+++
title = "用简单推荐算法 + AI 做「你可能还想看」"
date = 2025-03-01
draft = false
categories = ["个人网站", "推荐系统"]
tags = ["推荐算法", "Embedding", "博客", "AI 应用"]
description = "在个人博客上实现一个「你可能还想看」模块，结合简单规则、Embedding 相似度和一点点 AI，提升浏览连续性。"
+++

写博客时间长了，总会想：

> 读完一篇文章之后，怎么自然地把读者「带」到下一篇？

大型网站会搞一整套推荐系统、召回、排序、特征工程。  
个人博客没必要搞那么复杂，但做一点点「你可能还想看」，体验就会好很多。

这篇就记录一下我是怎么用：

- 简单规则 + Embedding 相似度  
- 再加一点点 AI 帮忙做摘要和推荐理由

来实现一个轻量版推荐模块的。

---

## 1. 推荐的目标是什么？

不是要提高 PV / UV，也没广告变现压力。  

我给自己的目标是：

1. 让真正感兴趣的人，可以自然地看到更多相关内容  
2. 推荐结果有一点「懂我」的感觉，而不是随机拼凑  
3. 不增加太多维护成本

所以技术方案尽量简单直接。

---

## 2. 基础：给每篇文章准备好「向量表示」

因为之前已经做过 AI 搜索，所以每篇文章本身已经有 Embedding 了。  
如果你是从零开始，大致可以这么做：

1. 对每篇文章的标题 + 摘要 + 关键段落做一次 Embedding  
2. 把向量和文章 metadata 存进一个小库里：

```jsonc
{
  "slug": "2023-09-10-rag-for-project-docs",
  "title": "用 RAG 做项目文档问答：从零搭一个 Demo",
  "date": "2023-09-10",
  "tags": ["RAG", "向量检索"],
  "vector": [0.123, -0.456, ...]
}
```

后续推荐时，就可以用「向量相似度 + 标签」来组合。

---

## 3. 推荐算法雏形：规则 + 相似度

当用户正在阅读某一篇文章 `A` 时，我会这样选「你可能还想看」列表：

1. **先做硬过滤：**  
   - 排除 `A` 自己  
   - 排除未发布 / 草稿  
   - 若该文章属于某个年份或专题，可优先同一专题

2. **基于标签做初筛：**  
   - 挑出至少有一个相同标签的文章，作为候选集合  
   - 如果候选太少，再放宽条件

3. **基于 Embedding 计算相似度：**  
   - 对候选集合计算与 `A` 的余弦相似度  
   - 按相似度排序

4. **加入一点规则权重：**  
   - 最近一年发布的文章 +0.1 bonus  
   - 标记为「核心文章」的再 +0.1

最终得到一个评分：

```text
score = w_sim * similarity + w_recency * recency + w_core * isCore
```

取前 3～5 篇作为推荐。

---

## 4. 用 AI 帮忙写「推荐理由」

只给标题有点冷冰冰，所以加了一点小玩具：

> 给每条推荐结果生成一行「推荐理由」。

比如：

- 「这篇是你刚刚看的 Monorepo 迁移实践的后续，讲的是微前端尝试」  
- 「同样是在讲 AI + 前端，这篇更偏个人工作流」

实现方式：

1. 把当前文章标题 + 推荐文章标题/摘要发给大模型  
2. Prompt 里说明：

> 请用 20 字以内写一句推荐理由，面向对技术有兴趣的读者，语气自然一点。

3. 把生成的短句缓存下来（比如存进一个 JSON 文件或数据库），下次不用再生成

这样既不会太烧钱，又能让推荐区显得更「有温度」。

---

## 5. 前端展示：克制一点就好

页面展示上我做得比较简洁：

- 每篇文章底部加一个卡片区域：`你可能还想看`  
- 列表项结构：

```text
[标题]
[推荐理由 · 日期]
```

比如：

> **用 RAG 做项目文档问答：从零搭一个 Demo**  
> 也是在讲如何让文档「可被问」，可以一起看。 · 2023-09-10  

不做头像、不做缩略图、不做封面，纯文本就好。  
对一个偏技术向的博客来说，信息密度更重要。

---

## 6. 复用性：同一套推荐逻辑还能用在哪里？

做完之后发现，同一套逻辑还可以拿去用在：

1. **归档页 / 标签页**  
   - 进入某个标签页面时，默认按「相似度 + 最近程度」排序  
   - 而不是简单按时间倒序

2. **首页推荐**  
   - 不是「最新文章」，而是「最近一段时间我最想被看到的文章」  
   - 可以结合人工标记的「核心文章」去控一下

3. **邮件 / 通知**（如果以后会做的话）  
   - 假如有订阅功能，可以给不同订阅者推荐不同组合

---

## 7. 小结

一个「你可能还想看」模块，完全可以做到：

- 算法不要太复杂  
- 不依赖庞大的日志和用户行为数据  
- 就只基于「文章内容相似度 + 一点点规则」

再加一点 AI 帮忙写推荐理由，整体体验就非常不错了。

对于个人博客来说，这更像是一种：

> 用一点点工程手段，让内容之间建立起关系，让浏览变得更连贯。