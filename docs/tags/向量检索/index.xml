<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>向量检索 on Saiga</title>
    <link>http://localhost:1313/tags/%E5%90%91%E9%87%8F%E6%A3%80%E7%B4%A2/</link>
    <description>Recent content in 向量检索 on Saiga</description>
    <generator>Hugo</generator>
    <language>zh-cn</language>
    <managingEditor>wuwenzen@outlook.com (wuwj)</managingEditor>
    <webMaster>wuwenzen@outlook.com (wuwj)</webMaster>
    <lastBuildDate>Sat, 25 Jan 2025 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://localhost:1313/tags/%E5%90%91%E9%87%8F%E6%A3%80%E7%B4%A2/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>给个人网站加一个 AI 搜索框</title>
      <link>http://localhost:1313/posts/2025-01-25-ai-powered-search-on-blog/</link>
      <pubDate>Sat, 25 Jan 2025 00:00:00 +0000</pubDate><author>wuwenzen@outlook.com (wuwj)</author>
      <guid>http://localhost:1313/posts/2025-01-25-ai-powered-search-on-blog/</guid>
      <description>&lt;p&gt;这篇算是给我自己的一份施工日志：记录我是怎么在个人网站上加一个「AI 搜索框」的。&lt;/p&gt;&#xA;&lt;p&gt;目标很简单：&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;让搜索不再只靠关键字，而是能用自然语言问问题，基于博客内容给出回答。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;比如：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;「你之前是怎么做前端性能监控的？」&lt;/li&gt;&#xA;&lt;li&gt;「Monorepo 迁移里有哪些坑？」&lt;/li&gt;&#xA;&lt;li&gt;「AI 和前端结合有什么实践？」&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;都可以直接问。&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;1-先想清楚ai-搜索到底要搜什么&#34;&gt;1. 先想清楚：AI 搜索到底要搜什么？&lt;/h2&gt;&#xA;&lt;p&gt;我给自己的约束：&lt;strong&gt;只基于本站内容&lt;/strong&gt;。&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;不接入外部网络&lt;/li&gt;&#xA;&lt;li&gt;不回答「全球最佳框架是哪一个」这种问题&lt;/li&gt;&#xA;&lt;li&gt;只回答「我自己写过什么」「我自己是怎么想的」&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;这样有几个好处：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;不用考虑太复杂的内容安全问题&lt;/li&gt;&#xA;&lt;li&gt;回答的质量和风格更统一&lt;/li&gt;&#xA;&lt;li&gt;搜索结果更像是「帮我找回过去的自己」&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;2-数据准备从-hugo-的-markdown-出发&#34;&gt;2. 数据准备：从 Hugo 的 Markdown 出发&lt;/h2&gt;&#xA;&lt;p&gt;网站用的是 Hugo，文章都在 &lt;code&gt;content/posts&lt;/code&gt; 中。&lt;/p&gt;&#xA;&lt;p&gt;做了一个简单的数据导出脚本：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;遍历所有 Markdown 文件&lt;/li&gt;&#xA;&lt;li&gt;解析 front matter（标题、日期、标签）&lt;/li&gt;&#xA;&lt;li&gt;提取正文内容，按标题层级切分成若干小段&lt;/li&gt;&#xA;&lt;li&gt;为每个小段生成一个唯一 ID + 一些元信息&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;伪代码大概是：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-ts&#34; data-lang=&#34;ts&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;interface&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;Chunk&lt;/span&gt; {&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;id&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;title&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;date&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;tags&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;[]&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;sectionPath&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;[]&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;content&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;url&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;string&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这些 &lt;code&gt;Chunk&lt;/code&gt; 之后会被送去做向量化。&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;3-向量化与向量库把内容变成可相似度检索的形式&#34;&gt;3. 向量化与向量库：把内容变成「可相似度检索」的形式&lt;/h2&gt;&#xA;&lt;h3 id=&#34;31-嵌入embedding&#34;&gt;3.1 嵌入（Embedding）&lt;/h3&gt;&#xA;&lt;p&gt;对每个片段调用 Embedding 模型，生成一个向量：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-ts&#34; data-lang=&#34;ts&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;embedding&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;await&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;embed&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;chunk&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;content&lt;/span&gt;)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;// embedding: number[]&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;向量和 metadata 一起存起来。&lt;/p&gt;</description>
    </item>
    <item>
      <title>用 Hugo &#43; 向量库搭一个个人知识库 &#43; AI 搜索</title>
      <link>http://localhost:1313/posts/2024-08-10-personal-knowledge-base-with-ai/</link>
      <pubDate>Sat, 10 Aug 2024 00:00:00 +0000</pubDate><author>wuwenzen@outlook.com (wuwj)</author>
      <guid>http://localhost:1313/posts/2024-08-10-personal-knowledge-base-with-ai/</guid>
      <description>&lt;p&gt;写博客、记笔记时间久了，经常会有这种感觉：&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;某个问题我好像以前写过，但完全想不起来写在哪里了。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;传统搜索要么靠关键词，要么翻目录，其实挺费劲。&lt;br&gt;&#xA;于是干脆做了一件事：&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;把 Hugo 博客里的文章当成「知识库」，用向量检索 + 大模型搭一个自己的 AI 搜索。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;下面简单记录一下从 0 到 1 的过程。&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;1-数据来源直接用-hugo-的-markdown&#34;&gt;1. 数据来源：直接用 Hugo 的 Markdown&lt;/h2&gt;&#xA;&lt;p&gt;因为网站本身就是 Hugo，所以数据天然在本地：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;code&gt;content/posts/**/*.md&lt;/code&gt;：原始文章&lt;/li&gt;&#xA;&lt;li&gt;Front matter 里有标题、日期、标签等信息&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;相比解析生成后的 HTML，我更倾向直接读 Markdown：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;结构简单&lt;/li&gt;&#xA;&lt;li&gt;不用做 HTML 清洗&lt;/li&gt;&#xA;&lt;li&gt;标题、层级天然存在&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;简单写个脚本：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;遍历 &lt;code&gt;content/posts&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;解析 front matter（用现成库即可）&lt;/li&gt;&#xA;&lt;li&gt;拿到正文内容&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;2-文档切分从文章到片段&#34;&gt;2. 文档切分：从文章到「片段」&lt;/h2&gt;&#xA;&lt;p&gt;RAG 的关键是切分策略。&lt;br&gt;&#xA;我采用了一个折中方案：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;按二级/三级标题做初步分段（&lt;code&gt;##&lt;/code&gt; / &lt;code&gt;###&lt;/code&gt;）&lt;/li&gt;&#xA;&lt;li&gt;每一段如果太长，再按字数（比如 300～500 字）切成多个片段&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;每个片段保存的信息大致是：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-jsonc&#34; data-lang=&#34;jsonc&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;id&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;2023-09-10-rag-for-project-docs#section-3-1&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;postSlug&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;2023-09-10-rag-for-project-docs&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;title&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;用 RAG 做项目文档问答：从零搭一个 Demo&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;date&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;2023-09-10&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;sectionPath&amp;#34;&lt;/span&gt;: [&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;3. 向量化：Embedding 与向量库&amp;#34;&lt;/span&gt;],&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;content&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;……这一小段的正文……&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;tags&amp;#34;&lt;/span&gt;: [&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;RAG&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;向量检索&amp;#34;&lt;/span&gt;]&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这些 metadata 会用于后续结果展示和过滤。&lt;/p&gt;</description>
    </item>
    <item>
      <title>用 RAG 做项目文档问答：从零搭一个 Demo</title>
      <link>http://localhost:1313/posts/2023-09-10-rag-for-project-docs/</link>
      <pubDate>Sun, 10 Sep 2023 00:00:00 +0000</pubDate><author>wuwenzen@outlook.com (wuwj)</author>
      <guid>http://localhost:1313/posts/2023-09-10-rag-for-project-docs/</guid>
      <description>&lt;p&gt;之前写过一篇「文档问答助手」的早期尝试，这次想更系统地从 RAG 角度，把整个过程讲清楚。&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;RAG（Retrieval-Augmented Generation）= 检索增强生成&lt;br&gt;&#xA;简单说就是：先从你自己的文档里检索相关内容，再让大模型基于这些内容生成答案。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;这篇文章以「项目文档问答」为例，从零搭一个小 Demo。&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;1-目标让大模型读得懂我们的项目文档&#34;&gt;1. 目标：让大模型「读得懂」我们的项目文档&lt;/h2&gt;&#xA;&lt;p&gt;设定目标：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;知识来源：代码仓库中的 README、设计文档、接口说明等；&lt;/li&gt;&#xA;&lt;li&gt;使用方式：在一个 Web 界面里提问，例如：&#xA;&lt;ul&gt;&#xA;&lt;li&gt;「私募投资人小程序支持哪些登陆方式？」&lt;/li&gt;&#xA;&lt;li&gt;「电子合同模块的签署流程有哪些关键步骤？」&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;期望回答：&#xA;&lt;ul&gt;&#xA;&lt;li&gt;基本准确；&lt;/li&gt;&#xA;&lt;li&gt;回答中能指出「来自哪份文档」。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;约束条件：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;不追求「端到端生产可用」，先搭一个可演示、可验证的 Demo；&lt;/li&gt;&#xA;&lt;li&gt;优先用云端 Embedding + 向量库，而不是自己训模型。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;2-文档准备与切分&#34;&gt;2. 文档准备与切分&lt;/h2&gt;&#xA;&lt;h3 id=&#34;21-文档来源&#34;&gt;2.1 文档来源&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Git 仓库中的 Markdown：&lt;code&gt;docs/&lt;/code&gt; 目录、各项目 README；&lt;/li&gt;&#xA;&lt;li&gt;内部 Wiki 导出的 HTML/Markdown；&lt;/li&gt;&#xA;&lt;li&gt;部分 API 文档（Swagger/OpenAPI 转文本）。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;统一先转成 Markdown/纯文本，方便处理。&lt;/p&gt;&#xA;&lt;h3 id=&#34;22-切分策略&#34;&gt;2.2 切分策略&lt;/h3&gt;&#xA;&lt;p&gt;RAG 很关键的一步是「chunking」，即把长文档切成小段。&lt;br&gt;&#xA;我们采用的是：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;按标题结构 + 字数混合切分&lt;/strong&gt;；&lt;/li&gt;&#xA;&lt;li&gt;每段控制在 300–600 字；&lt;/li&gt;&#xA;&lt;li&gt;保留上级标题用于提供上下文。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;示例结构：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;docId&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;fund-investor-miniapp&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;docTitle&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;信e募投资人小程序技术方案&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;sectionPath&amp;#34;&lt;/span&gt;: [&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;2. 技术架构&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;2.1 前端技术栈&amp;#34;&lt;/span&gt;],&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;content&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;前端采用 Vue3 + uni-app...&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;index&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;12&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;经验：&lt;/p&gt;</description>
    </item>
    <item>
      <title>用大模型做一个简单「文档问答助手」</title>
      <link>http://localhost:1313/posts/2022-10-30-ai-doc-assistant-v1/</link>
      <pubDate>Sun, 30 Oct 2022 00:00:00 +0000</pubDate><author>wuwenzen@outlook.com (wuwj)</author>
      <guid>http://localhost:1313/posts/2022-10-30-ai-doc-assistant-v1/</guid>
      <description>&lt;p&gt;2022 年开始，大模型 API 越来越好用，大家最直觉的一个想法就是：&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;能不能把项目文档「喂给」模型，然后直接用自然语言问问题？&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;这篇文章记录的是一个从 0 到 1 的小 Demo：&lt;strong&gt;用大模型 API + 向量检索，实现一个能回答「我们自己文档」问题的小助手。&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;1-目标和约束&#34;&gt;1. 目标和约束&lt;/h2&gt;&#xA;&lt;p&gt;目标很简单：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;把部分项目文档（接口说明、架构设计、规范）导入系统；&lt;/li&gt;&#xA;&lt;li&gt;在一个聊天界面里，可以问：&#xA;&lt;ul&gt;&#xA;&lt;li&gt;「用户登录接口的必填参数有哪些？」&lt;/li&gt;&#xA;&lt;li&gt;「私募投资人小程序的技术栈是什么？」&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;助手能基于文档给出相对准确的回答。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;约束：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;不追求「完美答案」；&lt;/li&gt;&#xA;&lt;li&gt;优先做到：&lt;strong&gt;能指向正确文档，并给出简洁总结&lt;/strong&gt;。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;2-总体架构&#34;&gt;2. 总体架构&lt;/h2&gt;&#xA;&lt;p&gt;整体流程可以概括成：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;文档导入 &amp;amp; 切分；&lt;/li&gt;&#xA;&lt;li&gt;向量化（Embedding）并存入向量库；&lt;/li&gt;&#xA;&lt;li&gt;用户提问 → 向量检索相关片段；&lt;/li&gt;&#xA;&lt;li&gt;把相关片段 + 问题一起发给大模型 → 生成回答；&lt;/li&gt;&#xA;&lt;li&gt;前端展示答案 + 引用片段。&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;用一张简图就是所谓的：&lt;strong&gt;RAG（检索增强生成）&lt;/strong&gt;。&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;3-文档预处理从-markdown-到小段文本&#34;&gt;3. 文档预处理：从 Markdown 到「小段文本」&lt;/h2&gt;&#xA;&lt;p&gt;我们选用的文档源主要是：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Git 仓库里的 Markdown（README、设计文档）；&lt;/li&gt;&#xA;&lt;li&gt;部分导出的接口文档（JSON/YAML 转文本）。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;预处理步骤：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;把 Markdown 转成纯文本（保留标题层级）；&lt;/li&gt;&#xA;&lt;li&gt;按一定策略切分成「小段文本」，比如每段 300–500 字；&lt;/li&gt;&#xA;&lt;li&gt;每段附带元信息：文档名、段落标题、在文档中的位置。&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;简单示例：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;docId&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;fund-investor-miniapp&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;title&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;技术栈与整体架构&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;content&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;前端采用 Vue3 + uni-app...&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;section&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;2.1 技术栈&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;index&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;切分策略的小经验：&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
