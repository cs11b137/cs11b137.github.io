<!DOCTYPE html>
<html lang="zh-cn">
    <head>
	<meta name="generator" content="Hugo 0.152.2"><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Saiga</title><meta name="Description" content="This is my cool site"><meta property="og:url" content="http://localhost:1313/">
  <meta property="og:site_name" content="Saiga">
  <meta property="og:title" content="Saiga">
  <meta property="og:description" content="This is my cool site">
  <meta property="og:locale" content="zh_cn">
  <meta property="og:type" content="website">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Saiga">
  <meta name="twitter:description" content="This is my cool site">
      <meta name="twitter:site" content="@https://x.com/IswjWu">
<meta name="application-name" content="Saiga">
<meta name="apple-mobile-web-app-title" content="Saiga"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="icon" href="/logo.svg"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="http://localhost:1313/" /><link rel="alternate" href="/index.xml" type="application/rss+xml" title="Saiga">
    <link rel="feed" href="/index.xml" type="application/rss+xml" title="Saiga"><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="/lib/fontawesome-free/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" href="/lib/animate/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "WebSite",
        "url": "http:\/\/localhost:1313\/","inLanguage": "zh-cn","author": {
                "@type": "Person",
                "name": "wuwj"
            },"description": "This is my cool site","name": "Saiga"
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Saiga">Saiga</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> 文章 </a><a class="menu-item" href="/tags/"> 标签 </a><a class="menu-item" href="/categories/"> 分类 </a><a class="menu-item" href="/about/"> 关于 </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="清空">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Saiga">Saiga</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="清空">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        取消
                    </a>
                </div><a class="menu-item" href="/posts/" title="">文章</a><a class="menu-item" href="/tags/" title="">标签</a><a class="menu-item" href="/categories/" title="">分类</a><a class="menu-item" href="/about/" title="">关于</a><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="page home" data-home="posts"><div class="home-profile"><div class="home-avatar"><a href="/posts/" title="文章"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="./avatar.jpg"
        data-srcset="./avatar.jpg, ./avatar.jpg 1.5x, ./avatar.jpg 2x"
        data-sizes="auto"
        alt="./avatar.jpg"
        title="./avatar.jpg" /></a></div><div class="home-subtitle"><div id="id-1" class="typeit"></div></div><div class="links"><a href="https://github.com/https://github.com/cs11b137" title="GitHub" target="_blank" rel="noopener noreffer me"><i class="fab fa-github fa-fw" aria-hidden="true"></i></a><a href="mailto:wuwenzen@outlook.com" title="Email" rel="me"><i class="far fa-envelope fa-fw" aria-hidden="true"></i></a><a href="https://huggingface.co/wuwj7056" target="_blank" rel="noopener noreffer me"></a><a href="https://linkedin.com/in/https://www.linkedin.com/in/wuwj/" title="LinkedIn" target="_blank" rel="noopener noreffer me"><i class="fab fa-linkedin fa-fw" aria-hidden="true"></i></a><a href="https://twitter.com/https://x.com/IswjWu" title="Twitter" target="_blank" rel="noopener noreffer me"><i class="fab fa-twitter fa-fw" aria-hidden="true"></i></a><a href="https://www.youtube.com/user/hhttps://www.youtube.com/@wjwuwuwj" title="YouTube" target="_blank" rel="noopener noreffer me"><i class="fab fa-youtube fa-fw" aria-hidden="true"></i></a><a href="/index.xml" title="RSS" target="_blank" rel="noopener noreffer me"><i class="fas fa-rss fa-fw" aria-hidden="true"></i></a></div></div>
<article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
        <a href="/posts/2022-09-05-monitoring-and-alert/">前端监控闭环：采集、告警到问题跟踪</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>wuwj</a></span>&nbsp;<span class="post-publish">发布于 <time datetime="2022-09-05">2022-09-05</time></span>&nbsp;<span class="post-category">收录于 <a href="/categories/%E7%9B%91%E6%8E%A7%E4%B8%8E%E8%BF%90%E7%BB%B4/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>监控与运维</a></span></div><div class="content"><p>很多团队做前端监控的姿势是：</p>
<blockquote>
<p>先接一个 SDK，看到了几个报错，然后就没然后了。</p>
</blockquote>
<p>最后变成：</p>
<ul>
<li>告警群天天响，大家学会了「静音」；</li>
<li>仪表盘很酷，但没人看；</li>
<li>真出大问题时，还是靠用户截图。</li>
</ul>
<p>这篇文章想聊的是：<strong>怎么从「有监控」升级到「有闭环」</strong>：采集、告警、问题跟踪、复盘一条链路打通。</p>
<hr>
<h2 id="1-前端到底要监什么">1. 前端到底要监什么？</h2>
<p>可以按三个维度来想：</p>
<ol>
<li>
<p><strong>可用性</strong></p>
<ul>
<li>JS 运行错误（Error、Promise 未捕获）；</li>
<li>资源加载失败（JS/CSS/图片）；</li>
<li>页面白屏/异常重定向。</li>
</ul>
</li>
<li>
<p><strong>性能</strong></p>
<ul>
<li>首屏指标（FCP/FP/TTI 等的近似值）；</li>
<li>接口耗时、失败率；</li>
<li>静态资源加载时间。</li>
</ul>
</li>
<li>
<p><strong>行为 &amp; 转化</strong></p>
<ul>
<li>关键路径的曝光/点击/完成；</li>
<li>异常行为（频繁刷新、某步流失明显）。</li>
</ul>
</li>
</ol>
<p>实践上，可以先从：<strong>错误 + 性能 + 关键链路打点</strong> 三件事做起。</p>
<hr>
<h2 id="2-采集埋点--sdk-一起用">2. 采集：埋点 &amp; SDK 一起用</h2>
<h3 id="21-错误采集">2.1 错误采集</h3>
<p>典型方式：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span>window.<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#39;error&#39;</span>, (<span style="color:#a6e22e">event</span>) <span style="color:#f92672">=&gt;</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">reportError</span>({
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">type</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;error&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">message</span>: <span style="color:#66d9ef">event.message</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">filename</span>: <span style="color:#66d9ef">event.filename</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">lineno</span>: <span style="color:#66d9ef">event.lineno</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">colno</span>: <span style="color:#66d9ef">event.colno</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">stack</span>: <span style="color:#66d9ef">event.error?.stack</span>,
</span></span><span style="display:flex;"><span>  });
</span></span><span style="display:flex;"><span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>window.<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#39;unhandledrejection&#39;</span>, (<span style="color:#a6e22e">event</span>) <span style="color:#f92672">=&gt;</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">reportError</span>({
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">type</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;unhandledrejection&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">reason</span>: <span style="color:#66d9ef">String</span>(<span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">reason</span>),
</span></span><span style="display:flex;"><span>  });
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><p>结合 sourcemap 上传，可以把错误还原到源代码行。</p>
<h3 id="22-性能采集">2.2 性能采集</h3>
<p>利用 Performance API：</p></div><div class="post-footer">
        <a href="/posts/2022-09-05-monitoring-and-alert/">阅读全文</a><div class="post-tags">
                <i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/%E5%89%8D%E7%AB%AF%E7%9B%91%E6%8E%A7/">前端监控</a>,&nbsp;<a href="/tags/%E5%9F%8B%E7%82%B9/">埋点</a>,&nbsp;<a href="/tags/%E5%91%8A%E8%AD%A6/">告警</a>,&nbsp;<a href="/tags/%E9%94%99%E8%AF%AF%E8%B7%9F%E8%B8%AA/">错误跟踪</a>,&nbsp;<a href="/tags/%E6%80%A7%E8%83%BD/">性能</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
        <a href="/posts/2022-07-14-performance-optimization-case/">一次性能优化实战：从 5s 到 1.5s 的页面加载</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>wuwj</a></span>&nbsp;<span class="post-publish">发布于 <time datetime="2022-07-14">2022-07-14</time></span>&nbsp;<span class="post-category">收录于 <a href="/categories/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>性能优化</a></span></div><div class="content"><p>有一次线上迭代后，陆续收到反馈：</p>
<blockquote>
<p>「系统能用，就是打开慢了一截。」<br>
「首页白屏时间变长了。」</p>
</blockquote>
<p>监控一看，某个核心页面的首屏时间从 <strong>约 2s 抬升到了接近 5s</strong>。<br>
这篇文章就是那次性能优化的实战复盘：<strong>我们如何量化问题、定位瓶颈、再一步步把首屏拉回到 1.5s 左右。</strong></p>
<hr>
<h2 id="1-先量化而不是拍脑袋">1. 先量化，而不是拍脑袋</h2>
<p>第一步是搞清楚「慢」在哪：</p>
<ul>
<li>首包下载？</li>
<li>JS 执行？</li>
<li>接口耗时？</li>
<li>还是一堆「非必要逻辑」抢在首屏执行？</li>
</ul>
<p>我们主要用了三种手段：</p>
<ol>
<li><strong>Chrome DevTools Performance</strong> 看关键时序；</li>
<li><strong>Lighthouse</strong> 跑实验室指标；</li>
<li><strong>前端埋点</strong> 看真实用户数据（FMP/TTI 的简化近似）。</li>
</ol>
<p>初步结论：</p>
<ul>
<li>JS 资源总体体积较大，首屏要加载的 JS 超过 1MB（压缩后）；</li>
<li>首屏渲染完成前存在一段较长的 JS 执行（主线程被占用）；</li>
<li>首屏接口本身不是特别慢，但被一些<strong>不必要的请求</strong>夹在中间。</li>
</ul>
<p>目标明确：<strong>瘦 JS、少阻塞、分优先级。</strong></p>
<hr>
<h2 id="2-bundle-拆分让首屏只拿它真需要的">2. Bundle 拆分：让首屏只拿它真需要的</h2>
<h3 id="21-分析构建结果">2.1 分析构建结果</h3>
<p>接入 <code>webpack-bundle-analyzer</code> / Vite 插件之后，很快看到几个「大头」：</p>
<ul>
<li>整个 UI 组件库全量引入；</li>
<li>某些图表库（在其他页面才用）被打进首屏 bundle；</li>
<li>若干工具库重复/未 Tree-shaking。</li>
</ul>
<h3 id="22-做的调整">2.2 做的调整</h3>
<ol>
<li>
<p><strong>组件库改为按需引入</strong></p>
<ul>
<li>把 <code>import ElementUI from 'element-ui'</code> 改成 babel 插件/手动按需；</li>
<li>打包结果里组件库体积明显下降。</li>
</ul>
</li>
<li>
<p><strong>路由级别代码拆分</strong></p></div><div class="post-footer">
        <a href="/posts/2022-07-14-performance-optimization-case/">阅读全文</a><div class="post-tags">
                <i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/%E6%80%A7%E8%83%BD/">性能</a>,&nbsp;<a href="/tags/%E6%87%92%E5%8A%A0%E8%BD%BD/">懒加载</a>,&nbsp;<a href="/tags/%E4%BB%A3%E7%A0%81%E6%8B%86%E5%88%86/">代码拆分</a>,&nbsp;<a href="/tags/%E7%BC%93%E5%AD%98/">缓存</a>,&nbsp;<a href="/tags/skeleton/">Skeleton</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
        <a href="/posts/2022-05-26-encryption-in-frontend/">前端加解密实践：从「别明文传密码」开始</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>wuwj</a></span>&nbsp;<span class="post-publish">发布于 <time datetime="2022-05-26">2022-05-26</time></span>&nbsp;<span class="post-category">收录于 <a href="/categories/%E5%AE%89%E5%85%A8%E4%B8%8E%E5%8A%A0%E5%AF%86/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>安全与加密</a></span></div><div class="content"><p>每次提到前端加密，评论区都会有人说：</p>
<blockquote>
<p>有 HTTPS 了，还加什么密？<br>
前端代码都是能看到的，没意义。</p>
</blockquote>
<p>理论上没错，但在金融/政企等场景里，<strong>有些需求不是技术可不可行，而是「要不要多一层安全防护 + 满足合规要求」</strong>。</p>
<p>这篇文章从实战出发，聊聊：</p>
<ul>
<li>常见的前端加密需求；</li>
<li>对称 / 非对称加密如何组合使用；</li>
<li>以及实际落地时的一些坑。</li>
</ul>
<hr>
<h2 id="1-https-已经有了为啥还要前端加密">1. HTTPS 已经有了，为啥还要前端加密？</h2>
<p>先说前提：<strong>HTTPS 必须有</strong>，这是基础。<br>
在这个基础上，某些场景仍然会要求：</p>
<ol>
<li>
<p><strong>防止明文敏感信息出现在抓包里</strong></p>
<ul>
<li>即便是 HTTPS，有些合规要求会明确写「不得以明文形式传输密码等敏感信息」；</li>
<li>抓包截图里看到一串密文，和直接看到手机号/密码，感受是不一样的。</li>
</ul>
</li>
<li>
<p><strong>降低中间层日志泄露风险</strong></p>
<ul>
<li>有时候请求会经过网关、代理、日志系统；</li>
<li>如果这些地方有不规范的日志记录，敏感字段加密可以降低损害。</li>
</ul>
</li>
<li>
<p><strong>和现有后端架构/第三方接口对齐</strong></p>
<ul>
<li>有些历史系统已经约定「密码字段用某种算法加密再传」；</li>
<li>前端需要遵守既有协议。</li>
</ul>
</li>
</ol>
<p>前端加密<strong>不是代替 HTTPS</strong>，而是多一层「<strong>应用层加密</strong>」。</p>
<hr>
<h2 id="2-两个基本工具对称--非对称">2. 两个基本工具：对称 &amp; 非对称</h2>
<p>简单回顾一下：</p>
<ul>
<li><strong>对称加密</strong>（如 AES、SM4）：同一把 key 加密解密；</li>
<li><strong>非对称加密</strong>（如 RSA）：公钥加密，私钥解密（或反之）。</li>
</ul>
<p>特性：</p>
<ul>
<li>对称加密：速度快，适合加密大量数据，但<strong>key 如何安全分发</strong>是问题；</li>
<li>非对称加密：适合做「密钥交换」，但加密大数据性能较差。</li>
</ul>
<p>所以常用组合是：</p>
<blockquote>
<p>前端生成一个随机对称密钥 → 用后端公钥加密这个密钥 → 发给后端 → 后端用私钥解出密钥 → 后续用这个对称密钥加解密数据。</p>
</blockquote>
<p>前端常见实现方式：</p>
<ul>
<li>WebCrypto API；</li>
<li>或成熟的 JS 加密库（CryptoJS / JSEncrypt / 国密相关库等）。</li>
</ul>
<hr>
<h2 id="3-一个典型的前端加密流程">3. 一个典型的前端加密流程</h2>
<p>以「登录密码不可明文传输」为例，设计一个简化流程：</p></div><div class="post-footer">
        <a href="/posts/2022-05-26-encryption-in-frontend/">阅读全文</a><div class="post-tags">
                <i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8/">前端安全</a>,&nbsp;<a href="/tags/%E5%8A%A0%E5%AF%86/">加密</a>,&nbsp;<a href="/tags/https/">HTTPS</a>,&nbsp;<a href="/tags/%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86/">对称加密</a>,&nbsp;<a href="/tags/%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86/">非对称加密</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
        <a href="/posts/2022-02-10-fintech-form-design/">复杂业务场景下的表单设计与交互实践</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>wuwj</a></span>&nbsp;<span class="post-publish">发布于 <time datetime="2022-02-10">2022-02-10</time></span>&nbsp;<span class="post-category">收录于 <a href="/categories/frontend/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>Frontend</a></span></div><div class="content"><h2 id="背景">背景</h2>
<p>在中后台系统与业务管理类页面中，表单是最常见、也是最容易被低估的一类界面形态。<br>
当字段数量增加、填写规则变复杂时，简单堆砌输入框往往会带来较高的使用成本。</p>
<p>如何在不引入额外学习成本的前提下，提升表单填写效率与可理解性，是前端实现中需要重点考虑的问题。</p>
<hr>
<h2 id="常见问题分析">常见问题分析</h2>
<h3 id="1-必填项不明确">1. 必填项不明确</h3>
<p>在字段较多的表单中，常见问题包括：</p>
<ul>
<li>必填与非必填混杂展示</li>
<li>校验规则只在提交时才触发</li>
<li>错误提示信息不清晰</li>
</ul>
<p>这类问题会显著降低填写效率。</p>
<hr>
<h3 id="2-一次性信息输入负担过重">2. 一次性信息输入负担过重</h3>
<p>将所有字段集中在一个页面中，容易导致：</p>
<ul>
<li>页面过长，用户难以快速定位</li>
<li>心理负担增加，填写中途放弃</li>
<li>错误集中暴露，修改成本高</li>
</ul>
<hr>
<h3 id="3-表单状态反馈不足">3. 表单状态反馈不足</h3>
<p>缺乏清晰反馈时，用户往往无法判断：</p>
<ul>
<li>当前填写是否符合规则</li>
<li>是否已满足提交条件</li>
<li>提交操作是否成功触发</li>
</ul>
<hr>
<h2 id="表单设计与交互实践">表单设计与交互实践</h2>
<h3 id="1-明确字段优先级">1. 明确字段优先级</h3>
<p>通过视觉层级区分字段重要性：</p>
<ul>
<li>必填项显式标识</li>
<li>非关键字段弱化展示</li>
<li>合理使用占位说明与辅助文案</li>
</ul>
<p>有助于用户快速理解填写重点。</p>
<hr>
<h3 id="2-分步骤拆解复杂表单">2. 分步骤拆解复杂表单</h3>
<p>将长表单拆分为多个步骤：</p>
<ul>
<li>每一步聚焦一类信息</li>
<li>提供清晰的进度提示</li>
<li>支持上一步回退与数据保留</li>
</ul>
<p>这种方式能有效降低单次填写压力。</p>
<hr>
<h3 id="3-提前进行输入校验">3. 提前进行输入校验</h3>
<p>在用户输入过程中进行校验：</p>
<ul>
<li>输入完成后即时提示错误</li>
<li>明确指出错误原因</li>
<li>避免提交后集中报错</li>
</ul>
<p>可以显著减少重复操作。</p>
<hr>
<h3 id="4-提供清晰的状态反馈">4. 提供清晰的状态反馈</h3>
<p>在关键节点给予明确反馈：</p>
<ul>
<li>提交中状态提示</li>
<li>成功或失败结果明确展示</li>
<li>异常情况提供可操作指引</li>
</ul>
<p>让用户始终清楚当前所处状态。</p>
<hr>
<h2 id="工程实现层面的考虑">工程实现层面的考虑</h2>
<p>在实现层面，通常会关注：</p>
<ul>
<li>表单状态集中管理</li>
<li>校验逻辑与 UI 解耦</li>
<li>表单组件的可复用性</li>
</ul>
<p>这些实践有助于在多个业务场景中复用同一套表单能力。</p>
<hr>
<h2 id="总结">总结</h2>
<p>复杂表单的设计并不依赖特定行业背景，而是对信息结构、交互节奏与用户认知的综合考量。</p>
<p>通过合理拆分、清晰反馈与一致的交互规则，可以在不增加实现复杂度的前提下，显著提升整体使用体验。</p></div><div class="post-footer">
        <a href="/posts/2022-02-10-fintech-form-design/">阅读全文</a><div class="post-tags">
                <i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/%E8%A1%A8%E5%8D%95%E8%AE%BE%E8%AE%A1/">表单设计</a>,&nbsp;<a href="/tags/%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C/">用户体验</a>,&nbsp;<a href="/tags/%E5%89%8D%E7%AB%AF%E5%AE%9E%E8%B7%B5/">前端实践</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
        <a href="/posts/2021-12-05-first-ai-touch/">用云端 NLP API 做一个简单的文本分析工具</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>wuwj</a></span>&nbsp;<span class="post-publish">发布于 <time datetime="2021-12-05">2021-12-05</time></span>&nbsp;<span class="post-category">收录于 <a href="/categories/ai-%E6%8E%A2%E7%B4%A2/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>AI 探索</a></span></div><div class="content"><p>很早之前就对「AI 能不能帮忙看评论、看工单」这件事好奇过，但自己训模型门槛挺高，于是先选了条<strong>最省事的路</strong>：</p>
<blockquote>
<p>找一个云厂商提供的 NLP API，用 HTTP 请求的方式做一层简单封装，做一个「文本分析小工具」。</p>
</blockquote>
<p>这篇文章记录的是那次尝试的过程。</p>
<blockquote>
<p>注：下面不强调具体厂商名字，主线思路在于「怎么用」，而不是「用谁」。</p>
</blockquote>
<hr>
<h2 id="1-想做一个什么样的小工具">1. 想做一个什么样的小工具？</h2>
<p>需求非常朴素：</p>
<ul>
<li>输入一段文本（比如用户评论、客服工单）；</li>
<li>自动判断它是「正向 / 负向 / 中性」；</li>
<li>选做：给出一个大致类别，比如「产品问题 / 物流问题 / 售后问题」。</li>
</ul>
<p>最终希望变成一个简单的 Web 页面：</p>
<ul>
<li>左边输入框；</li>
<li>右边展示：情感结果、类别标签、关键句/关键词。</li>
</ul>
<hr>
<h2 id="2-挑选一个云-nlp-服务">2. 挑选一个云 NLP 服务</h2>
<p>大部分云厂商都会提供类似能力：</p>
<ul>
<li>情感分析（Sentiment Analysis）；</li>
<li>文本分类（Text Classification）；</li>
<li>关键词提取、实体识别等。</li>
</ul>
<p>通常接入步骤类似：</p>
<ol>
<li>注册账号；</li>
<li>在控制台创建一个 NLP 应用 / 项目；</li>
<li>拿到 API Key / Secret / Endpoint；</li>
<li>看一眼文档里示例请求。</li>
</ol>
<p>示例请求（伪代码）：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-http" data-lang="http"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">POST /nlp/sentiment
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">Authorization: Bearer &lt;API_KEY&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">Content-Type: application/json
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">{
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">  &#34;text&#34;: &#34;这次发货太慢了，等了一个星期才收到。&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">}
</span></span></span></code></pre></div><p>响应大概会是：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;sentiment&#34;</span>: <span style="color:#e6db74">&#34;negative&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;confidence&#34;</span>: <span style="color:#ae81ff">0.94</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>或者更细一些：</p></div><div class="post-footer">
        <a href="/posts/2021-12-05-first-ai-touch/">阅读全文</a><div class="post-tags">
                <i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/nlp/">NLP</a>,&nbsp;<a href="/tags/%E6%96%87%E6%9C%AC%E5%88%86%E6%9E%90/">文本分析</a>,&nbsp;<a href="/tags/%E4%BA%91%E6%9C%8D%E5%8A%A1/">云服务</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
        <a href="/posts/2021-10-20-ci-cd-for-frontend/">给前端项目接上 CI/CD：自动构建与预发布环境</a>
    </h1><div class="post-meta"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>wuwj</a></span>&nbsp;<span class="post-publish">发布于 <time datetime="2021-10-20">2021-10-20</time></span>&nbsp;<span class="post-category">收录于 <a href="/categories/%E5%B7%A5%E7%A8%8B%E5%8C%96/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>工程化</a></span></div><div class="content"><p>以前做前端上线，经常是这样的：</p>
<ul>
<li>本地 <code>npm run build</code> 打包；</li>
<li>用 FTP 或手动拷贝把 dist 丢到服务器；</li>
<li>出了问题再手动覆盖回去。</li>
</ul>
<p>这种方式有几个明显缺点：</p>
<ul>
<li>完全依赖人的操作习惯，出错难追踪；</li>
<li>没有固定的「预发布环境」，测试体验不好；</li>
<li>回滚麻烦，基本靠「手快」。</li>
</ul>
<p>这篇文章记录的是：<strong>一次给前端项目接上 CI/CD 的实际过程</strong>，目标是：</p>
<blockquote>
<p>提交代码 → 自动构建 → 部署到预发布 → 人工验证 → 一键上线 &amp; 可快速回滚。</p>
</blockquote>
<hr>
<h2 id="1-流程目标先画出来">1. 流程目标先画出来</h2>
<p>先不管用什么平台（GitHub Actions、GitLab CI、Jenkins…），流程大致分为几步：</p>
<ol>
<li>
<p><strong>CI 阶段（持续集成）</strong></p>
<ul>
<li>安装依赖；</li>
<li>跑 lint / 单测；</li>
<li>打包构建。</li>
</ul>
</li>
<li>
<p><strong>CD 阶段（持续交付/部署）</strong></p>
<ul>
<li>构建产物上传到制品库或对象存储；</li>
<li>自动部署到预发布环境；</li>
<li>人工验证无问题后，再部署到生产；</li>
<li>所有版本有记录，可一键回滚。</li>
</ul>
</li>
</ol>
<p>把这张「大图」先画给团队看，大家对齐预期后，再来谈具体实现。</p>
<hr>
<h2 id="2-以-github-actions-为例写一个最小流水线">2. 以 GitHub Actions 为例写一个最小流水线</h2>
<h3 id="21-基础-ci安装--构建">2.1 基础 CI：安装 + 构建</h3>
<p><code>.github/workflows/ci.yml</code>：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">name</span>: <span style="color:#ae81ff">Frontend CI</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">on</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">pull_request</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">branches</span>: [ <span style="color:#ae81ff">main, develop ]</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">push</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">branches</span>: [ <span style="color:#ae81ff">develop ]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">jobs</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">build</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">runs-on</span>: <span style="color:#ae81ff">ubuntu-latest</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">steps</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Checkout code</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">uses</span>: <span style="color:#ae81ff">actions/checkout@v3</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Use Node.js</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">uses</span>: <span style="color:#ae81ff">actions/setup-node@v3</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">with</span>:
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">node-version</span>: <span style="color:#e6db74">&#39;18&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Install dependencies</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">run</span>: <span style="color:#ae81ff">npm ci</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Lint</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">run</span>: <span style="color:#ae81ff">npm run lint</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Build</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">run</span>: <span style="color:#ae81ff">npm run build</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Archive production artifacts</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">uses</span>: <span style="color:#ae81ff">actions/upload-artifact@v3</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">with</span>:
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">name</span>: <span style="color:#ae81ff">dist</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">path</span>: <span style="color:#ae81ff">dist</span>
</span></span></code></pre></div><p>这样每次 PR / 推送到 develop，都能自动帮你检查：</p></div><div class="post-footer">
        <a href="/posts/2021-10-20-ci-cd-for-frontend/">阅读全文</a><div class="post-tags">
                <i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/ci/cd/">CI/CD</a>,&nbsp;<a href="/tags/%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2/">自动化部署</a>,&nbsp;<a href="/tags/%E5%89%8D%E7%AB%AF%E5%8F%91%E5%B8%83%E6%B5%81%E7%A8%8B/">前端发布流程</a></div></div>
</article><ul class="pagination"><li class="page-item ">
                    <span class="page-link">
                        <a href="/">1</a>
                    </span>
                </li><li class="page-item ">
                    <span class="page-link" aria-hidden="true">&hellip;</span>
                </li><li class="page-item ">
                    <span class="page-link">
                        <a href="/page/3/">3</a>
                    </span>
                </li><li class="page-item ">
                    <span class="page-link">
                        <a href="/page/4/">4</a>
                    </span>
                </li><li class="page-item active">
                    <span class="page-link">
                        <a href="/page/5/">5</a>
                    </span>
                </li><li class="page-item ">
                    <span class="page-link">
                        <a href="/page/6/">6</a>
                    </span>
                </li><li class="page-item ">
                    <span class="page-link">
                        <a href="/page/7/">7</a>
                    </span>
                </li><li class="page-item ">
                    <span class="page-link">
                        <a href="/page/8/">8</a>
                    </span>
                </li></ul></div></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">由 <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.152.2">Hugo</a> 强力驱动 | 主题 - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.3.0"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2019 - 2025</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">wuwj</a></span>&nbsp;|&nbsp;<span class="license">CC BY-NC 4.0</span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="回到顶部">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="查看评论">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.stemmer.support.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.zh.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/typeit/index.umd.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":50},"data":{"id-1":"A quiet place to keep a record of things."},"search":{"highlightTag":"em","lunrLanguageCode":"zh","lunrSegmentitURL":"/lib/lunr/lunr.segmentit.js","maxResultLength":10,"noResultsFound":"没有找到结果","snippetLength":30},"typeit":{"cursorChar":"|","cursorSpeed":1000,"data":{"id-1":["id-1"]},"duration":-1,"speed":100}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
