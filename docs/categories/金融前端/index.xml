<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>金融前端 on Saiga</title>
    <link>http://localhost:1313/categories/%E9%87%91%E8%9E%8D%E5%89%8D%E7%AB%AF/</link>
    <description>Recent content in 金融前端 on Saiga</description>
    <generator>Hugo</generator>
    <language>zh-cn</language>
    <managingEditor>wuwenzen@outlook.com (wuwj)</managingEditor>
    <webMaster>wuwenzen@outlook.com (wuwj)</webMaster>
    <lastBuildDate>Fri, 01 Apr 2022 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://localhost:1313/categories/%E9%87%91%E8%9E%8D%E5%89%8D%E7%AB%AF/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>电子合同前端架构：模版、签章与签署流程</title>
      <link>http://localhost:1313/posts/2022-04-01-e-contract-frontend-architecture/</link>
      <pubDate>Fri, 01 Apr 2022 00:00:00 +0000</pubDate><author>wuwenzen@outlook.com (wuwj)</author>
      <guid>http://localhost:1313/posts/2022-04-01-e-contract-frontend-architecture/</guid>
      <description>&lt;p&gt;做电子合同相关的前端，会很快感觉到：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;这已经不只是「展示一个 PDF」；&lt;/li&gt;&#xA;&lt;li&gt;还牵扯到模版配置、变量渲染、签章交互、签署流程编排、证据留存等。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;如果一股脑儿堆在一个项目里，很快就会失控。&lt;br&gt;&#xA;这篇文章试着从前端视角，把电子合同拆成几个独立模块，聊聊一套比较清晰的架构思路。&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;1-电子合同前端要解决什么&#34;&gt;1. 电子合同前端要解决什么？&lt;/h2&gt;&#xA;&lt;p&gt;从用户视角看，大概是：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;看到合同预览（包含自己信息）；&lt;/li&gt;&#xA;&lt;li&gt;在指定位置签名/盖章/确认；&lt;/li&gt;&#xA;&lt;li&gt;提交后能下载已签署版本，必要时可验证真伪。&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;从前端视角再拆细一点：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;模版管理&lt;/strong&gt;：合同模版如何配置 &amp;amp; 渲染；&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;变量填充&lt;/strong&gt;：客户姓名、证件号、金额等动态内容；&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;渲染方式&lt;/strong&gt;：HTML 还是 PDF 预览，是否支持高缩放；&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;签章交互&lt;/strong&gt;：点击签署区域、手写签名/用预制印章；&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;流程编排&lt;/strong&gt;：签署顺序、多人会签/联签；&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;留痕 &amp;amp; 防篡改&lt;/strong&gt;：前端如何配合后端做证据链。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;这些职责千万别写在一个「超级组件」里。&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;2-模块切分四层结构&#34;&gt;2. 模块切分：四层结构&lt;/h2&gt;&#xA;&lt;p&gt;我们落地时，大致划成四层：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;业务流程层  ←  电子合同服务层  ←  渲染 &amp;amp; 交互层  ←  基础组件 &amp;amp; 工具层&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;21-业务流程层具体业务系统&#34;&gt;2.1 业务流程层（具体业务系统）&lt;/h3&gt;&#xA;&lt;p&gt;例如：开户流程、理财签约、风险揭示等业务系统：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;只关心「在流程某一环节触发合同签署」；&lt;/li&gt;&#xA;&lt;li&gt;不直接操心合同模版、签章细节；&lt;/li&gt;&#xA;&lt;li&gt;与电子合同前端交互的接口尽量保持简单。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;22-电子合同服务层前端-sdk&#34;&gt;2.2 电子合同服务层（前端 SDK）&lt;/h3&gt;&#xA;&lt;p&gt;可以理解成一个前端 SDK：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;提供统一方法：&lt;code&gt;createContract&lt;/code&gt;, &lt;code&gt;previewContract&lt;/code&gt;, &lt;code&gt;signContract&lt;/code&gt;；&lt;/li&gt;&#xA;&lt;li&gt;内部负责：请求合同服务接口、拿到模版、变量、签署状态等；&lt;/li&gt;&#xA;&lt;li&gt;把渲染和交互细节屏蔽在内部。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;示例：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-ts&#34; data-lang=&#34;ts&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;import&lt;/span&gt; { &lt;span style=&#34;color:#a6e22e&#34;&gt;openContractSignDialog&lt;/span&gt; } &lt;span style=&#34;color:#66d9ef&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;@ecm/sdk&amp;#39;&lt;/span&gt;;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;await&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;openContractSignDialog&lt;/span&gt;({&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;bizType&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;OPEN_ACCOUNT&amp;#39;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;bizId&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;xxx&amp;#39;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;viewer&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;customer&amp;#39;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;});&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;23-渲染--交互层&#34;&gt;2.3 渲染 &amp;amp; 交互层&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;负责把合同模版 + 变量渲染成可阅读界面；&lt;/li&gt;&#xA;&lt;li&gt;在指定签署域上挂载交互（点击弹签名板等）；&lt;/li&gt;&#xA;&lt;li&gt;处理缩放、翻页、跳转签署域等体验细节。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;24-基础组件--工具层&#34;&gt;2.4 基础组件 &amp;amp; 工具层&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;PDF/HTML 渲染组件；&lt;/li&gt;&#xA;&lt;li&gt;手写签名板组件；&lt;/li&gt;&#xA;&lt;li&gt;坐标转换、缩放计算工具；&lt;/li&gt;&#xA;&lt;li&gt;与后端约定的签署域结构解析等。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;3-合同模版与变量渲染&#34;&gt;3. 合同模版与变量渲染&lt;/h2&gt;&#xA;&lt;h3 id=&#34;31-模版形式&#34;&gt;3.1 模版形式&lt;/h3&gt;&#xA;&lt;p&gt;常见两种：&lt;/p&gt;</description>
    </item>
    <item>
      <title>金融场景下的表单设计：KYC、合规与用户体验</title>
      <link>http://localhost:1313/posts/2022-02-10-fintech-form-design/</link>
      <pubDate>Thu, 10 Feb 2022 00:00:00 +0000</pubDate><author>wuwenzen@outlook.com (wuwj)</author>
      <guid>http://localhost:1313/posts/2022-02-10-fintech-form-design/</guid>
      <description>&lt;p&gt;金融系统里，表单不是简单的「填一填」：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;监管要求决定了&lt;strong&gt;字段不能乱删&lt;/strong&gt;；&lt;/li&gt;&#xA;&lt;li&gt;风险提示必须&lt;strong&gt;显眼可见&lt;/strong&gt;；&lt;/li&gt;&#xA;&lt;li&gt;用户又会觉得「怎么要填这么多东西」。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;这篇文章就结合 KYC（了解你的客户）、适当性评估、风险告知等场景，聊聊：&lt;strong&gt;怎么在合规前提下，把表单做得更好用一点。&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;1-金融表单的几个典型场景&#34;&gt;1. 金融表单的几个典型场景&lt;/h2&gt;&#xA;&lt;p&gt;做表单之前，先搞清楚自己处在哪种场景：&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;&lt;strong&gt;开户 / 注册 / KYC 信息收集&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;个人基本信息：姓名、证件号、联系方式；&lt;/li&gt;&#xA;&lt;li&gt;职业、收入、资产情况；&lt;/li&gt;&#xA;&lt;li&gt;投资经验、风险偏好。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;&lt;strong&gt;风险测评 / 适当性评估&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;一系列问题，用来判断风险承受能力；&lt;/li&gt;&#xA;&lt;li&gt;结果可能影响可购买的产品范围。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;&lt;strong&gt;交易与合规确认&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;下单前的风险提示、产品说明确认；&lt;/li&gt;&#xA;&lt;li&gt;特定产品的「特别风险揭示」签署。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;不同场景对「必须完整性」和「交互体验」的要求不一样：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;KYC 可适度拆步、引导填写；&lt;/li&gt;&#xA;&lt;li&gt;合同签署类表单则更偏重「留痕」和「不可抵赖」。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;2-必填项不是越多越好&#34;&gt;2. 必填项：不是越多越好&lt;/h2&gt;&#xA;&lt;p&gt;很多产品一开始会把&lt;strong&gt;所有字段都设成必填&lt;/strong&gt;，但这会直接劝退用户。更好的做法是：&lt;/p&gt;&#xA;&lt;h3 id=&#34;21-先按监管视角划分优先级&#34;&gt;2.1 先按「监管视角」划分优先级&lt;/h3&gt;&#xA;&lt;p&gt;和合规/风控同事一起，把字段分成：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;必须采集且必须实时验证&lt;/strong&gt;：证件号、姓名、手机号等；&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;必须采集但可以允许暂时空缺&lt;/strong&gt;：部分补充信息，可后续完善；&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;在特定场景才需要&lt;/strong&gt;：例如某类产品才需要额外问卷。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;前端层面可以做成：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;第一屏只出现「强必要」字段；&lt;/li&gt;&#xA;&lt;li&gt;其他放在下一步或「更多信息」里；&lt;/li&gt;&#xA;&lt;li&gt;支持后续在「个人资料中心」补充。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;22-必填的表现方式&#34;&gt;2.2 必填的表现方式&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;避免整页红星；&lt;/li&gt;&#xA;&lt;li&gt;推荐：只在真正必填字段左侧加 &lt;code&gt;*&lt;/code&gt;，并在表头写明「* 为必填项」；&lt;/li&gt;&#xA;&lt;li&gt;错误提示尽量贴近输入框，不要统一在顶部「打一行大红字」。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;3-风险提示要显眼但不要吓跑人&#34;&gt;3. 风险提示：要显眼，但不要吓跑人&lt;/h2&gt;&#xA;&lt;p&gt;金融表单里经常会出现这样的文案：&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;本产品不保证本金安全，投资需谨慎…&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;以及 N 行法律条款。合规角度看，&lt;strong&gt;展示到位、记录留痕&lt;/strong&gt; 很重要；体验上，我们可以这么做：&lt;/p&gt;&#xA;&lt;h3 id=&#34;31-分层展示&#34;&gt;3.1 分层展示&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;对用户最关键的信息（是否保本、可能损失哪些）&lt;strong&gt;用列表或高亮&lt;/strong&gt;单独提炼；&lt;/li&gt;&#xA;&lt;li&gt;详细条款用折叠面板展示，并提供「展开查看全部」。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;32-交互确认留痕&#34;&gt;3.2 交互确认留痕&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;针对关键提示，使用显式勾选：&lt;code&gt;[ ] 我已阅读并理解上述风险提示&lt;/code&gt;；&lt;/li&gt;&#xA;&lt;li&gt;在后端记录勾选时间、IP、终端信息，方便事后追溯；&lt;/li&gt;&#xA;&lt;li&gt;不要用自动勾选的复选框，尽量让用户有一次主动操作。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;33-避免滚动到底才能勾选式折磨&#34;&gt;3.3 避免「滚动到底才能勾选」式折磨&lt;/h3&gt;&#xA;&lt;p&gt;不少系统会要求用户必须拖动滚动条到底才能点击「我已阅读」。如果监管没有硬性要求，建议尽量避免，或控制文本长度，减少用户厌烦情绪。&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
