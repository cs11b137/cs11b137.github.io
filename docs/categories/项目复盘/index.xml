<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>项目复盘 on Saiga</title>
    <link>http://localhost:1313/categories/%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/</link>
    <description>Recent content in 项目复盘 on Saiga</description>
    <generator>Hugo</generator>
    <language>zh-cn</language>
    <managingEditor>wuwenzen@outlook.com (wuwj)</managingEditor>
    <webMaster>wuwenzen@outlook.com (wuwj)</webMaster>
    <lastBuildDate>Fri, 20 Dec 2019 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://localhost:1313/categories/%E9%A1%B9%E7%9B%AE%E5%A4%8D%E7%9B%98/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>第一个线上小项目复盘：从需求到上线</title>
      <link>http://localhost:1313/posts/2019-12-20-first-side-project-review/</link>
      <pubDate>Fri, 20 Dec 2019 00:00:00 +0000</pubDate><author>wuwenzen@outlook.com (wuwj)</author>
      <guid>http://localhost:1313/posts/2019-12-20-first-side-project-review/</guid>
      <description>&lt;p&gt;每个开发大概都会有那么一个「第一次自己从头到尾搞定的小项目」。不一定很大，但你会记得它第一次线上、第一次收到真实用户反馈时的感觉。&lt;/p&gt;&#xA;&lt;p&gt;这篇文章就是我对自己第一个线上小项目的一次复盘：&lt;strong&gt;从需求、设计、实现到上线运维，哪些地方做得还行，哪些地方踩了坑，以及如果重来一次我会怎么做。&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;项目背景一个小而完整的业务闭环&#34;&gt;项目背景：一个小而完整的业务闭环&lt;/h2&gt;&#xA;&lt;p&gt;项目本身不复杂，可以简化理解为：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;给内部同事用的一个「简单信息录入 + 查询」系统。&lt;/li&gt;&#xA;&lt;li&gt;功能包括：&#xA;&lt;ul&gt;&#xA;&lt;li&gt;登录（最初只是简单校验）&lt;/li&gt;&#xA;&lt;li&gt;信息录入表单（10 来个字段）&lt;/li&gt;&#xA;&lt;li&gt;列表查询 + 条件筛选&lt;/li&gt;&#xA;&lt;li&gt;导出 Excel&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;技术栈：Vue + 简易 Node.js API + MySQL。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;它的意义不在技术多高级，而在于：&lt;strong&gt;从 0 到上生产，所有环节都踩了一遍。&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;需求阶段一开始就踩坑的地方&#34;&gt;需求阶段：一开始就踩坑的地方&lt;/h2&gt;&#xA;&lt;h3 id=&#34;1-没有边界的需求&#34;&gt;1. 没有「边界」的需求&lt;/h3&gt;&#xA;&lt;p&gt;当时需求只有一句话：&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;做一个给运营同事用的录入和查询系统，支持导出。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;看起来很简单，实际开始做的时候才发现问题：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;字段定义不清楚：哪些必填？哪些是枚举？哪些会后续扩展？&lt;/li&gt;&#xA;&lt;li&gt;查询场景不清楚：他们怎么用？按什么维度查？&lt;/li&gt;&#xA;&lt;li&gt;导出需求不清楚：导出全部？分页导出？按筛选条件导出？&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;**教训：**哪怕是小项目，开工前也要把几个关键边界问清楚：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;「最小可用版本」必须具备哪些功能？&lt;/li&gt;&#xA;&lt;li&gt;哪些是后续再说的「加分项」？&lt;/li&gt;&#xA;&lt;li&gt;有没有「绝对不能错」的地方（比如某个字段一定要留存）？&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;简单拉个 30 分钟的小会，白板上把字段和关键操作列出来，会省掉后面大量来回返工。&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;设计阶段刚开始就写死了的页面结构&#34;&gt;设计阶段：刚开始就写死了的页面结构&lt;/h2&gt;&#xA;&lt;p&gt;第一个版本，我是怎么做的：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;一个页面写完所有功能：表单在上、表格在下。&lt;/li&gt;&#xA;&lt;li&gt;所有状态（表单值、筛选条件、列表）全塞在一个组件里。&lt;/li&gt;&#xA;&lt;li&gt;校验、提交流程、导出逻辑写在同一个 &lt;code&gt;methods&lt;/code&gt; 对象。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;这样做的结果：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;代码量不大时还凑合。&lt;/li&gt;&#xA;&lt;li&gt;一旦字段一增加、逻辑一变更，维护起来就很痛苦。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;重构后的做法是：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;拆分成三个组件：&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;code&gt;FormPanel&lt;/code&gt;：负责录入表单。&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;SearchPanel&lt;/code&gt;：负责查询条件。&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;ResultTable&lt;/code&gt;：负责列表展示和导出按钮。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;用一个父组件 &lt;code&gt;PageIndex&lt;/code&gt; 作为「协调者」，统一管理状态。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;父组件结构大概是：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-vue&#34; data-lang=&#34;vue&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;template&lt;/span&gt;&amp;gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;div&lt;/span&gt;&amp;gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;FormPanel&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;:value&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;formData&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;@change&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;=&amp;#34;onFormChange&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;@submit&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;=&amp;#34;onFormSubmit&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    /&amp;gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;SearchPanel&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;:value&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;searchParams&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;@search&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;=&amp;#34;onSearch&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    /&amp;gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;ResultTable&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;:data&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;tableData&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;:loading&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;tableLoading&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;@export&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;=&amp;#34;onExport&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    /&amp;gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;div&lt;/span&gt;&amp;gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;template&lt;/span&gt;&amp;gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;**收获：**即便是小项目，只要你能把「页面拆成几个清晰的区域组件」，后面改需求的时候会省很多事。&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
