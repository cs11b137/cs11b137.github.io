<!DOCTYPE html>
<html lang="zh-cn">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>前端复杂流程页面的架构拆分与状态管理 - Saiga</title><meta name="Description" content="This is my cool site"><meta property="og:url" content="http://localhost:1313/posts/2022-04-01-e-contract-frontend-architecture/">
  <meta property="og:site_name" content="Saiga">
  <meta property="og:title" content="前端复杂流程页面的架构拆分与状态管理">
  <meta property="og:description" content="背景 在业务系统中，常会遇到多步骤、强状态依赖的复杂流程页面，例如配置流程、审批流程、操作向导等。
这类页面往往具备以下特点：
页面步骤多，前后状态强关联 交互复杂，回退与重试成本高 逻辑集中，容易演变为“巨型页面” 如果缺乏合理的结构设计，后期维护成本会迅速上升。
常见问题 1. 所有逻辑堆在一个页面中 典型表现包括：
单个页面文件体积不断膨胀 流程控制、UI 渲染、数据请求高度耦合 新增或修改步骤容易影响整体流程 2. 状态流转不清晰 在复杂流程中，常见问题有：
当前所处步骤难以判断 页面刷新后状态丢失 异常中断后无法恢复流程 3. 可扩展性不足 当业务发生变化时：
增减步骤需要大范围改动 流程分支难以抽象 复用能力较弱 架构拆分思路 1. 流程驱动页面结构 将流程本身作为核心抽象：
明确流程节点定义 每个步骤对应独立模块 页面仅负责流程调度 flow/ ├── steps/ │ ├── stepA.ts │ ├── stepB.ts │ └── stepC.ts ├── flow.config.ts └── flow.controller.ts 2. 页面只负责容器与布局 页面层尽量保持轻量：
负责步骤容器渲染 负责公共布局与导航 不直接承载复杂业务逻辑 这样可以显著降低页面复杂度。
3. 集中管理流程状态 流程状态通常包括：
当前步骤 已完成步骤 中间数据快照 通过集中状态管理，可以实现：
页面刷新后的状态恢复 异常回退与重试 多步骤间的数据共享 4. 步骤模块保持高内聚 每个步骤模块应当：">
  <meta property="og:locale" content="zh_cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2022-04-01T00:00:00+00:00">
    <meta property="article:modified_time" content="2022-04-01T00:00:00+00:00">
    <meta property="article:tag" content="前端架构">
    <meta property="article:tag" content="状态管理">
    <meta property="article:tag" content="复杂流程">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="前端复杂流程页面的架构拆分与状态管理">
  <meta name="twitter:description" content="背景 在业务系统中，常会遇到多步骤、强状态依赖的复杂流程页面，例如配置流程、审批流程、操作向导等。
这类页面往往具备以下特点：
页面步骤多，前后状态强关联 交互复杂，回退与重试成本高 逻辑集中，容易演变为“巨型页面” 如果缺乏合理的结构设计，后期维护成本会迅速上升。
常见问题 1. 所有逻辑堆在一个页面中 典型表现包括：
单个页面文件体积不断膨胀 流程控制、UI 渲染、数据请求高度耦合 新增或修改步骤容易影响整体流程 2. 状态流转不清晰 在复杂流程中，常见问题有：
当前所处步骤难以判断 页面刷新后状态丢失 异常中断后无法恢复流程 3. 可扩展性不足 当业务发生变化时：
增减步骤需要大范围改动 流程分支难以抽象 复用能力较弱 架构拆分思路 1. 流程驱动页面结构 将流程本身作为核心抽象：
明确流程节点定义 每个步骤对应独立模块 页面仅负责流程调度 flow/ ├── steps/ │ ├── stepA.ts │ ├── stepB.ts │ └── stepC.ts ├── flow.config.ts └── flow.controller.ts 2. 页面只负责容器与布局 页面层尽量保持轻量：
负责步骤容器渲染 负责公共布局与导航 不直接承载复杂业务逻辑 这样可以显著降低页面复杂度。
3. 集中管理流程状态 流程状态通常包括：
当前步骤 已完成步骤 中间数据快照 通过集中状态管理，可以实现：
页面刷新后的状态恢复 异常回退与重试 多步骤间的数据共享 4. 步骤模块保持高内聚 每个步骤模块应当：">
      <meta name="twitter:site" content="@https://github.com/cs11b137">
<meta name="application-name" content="Saiga">
<meta name="apple-mobile-web-app-title" content="Saiga"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="icon" href="/logo.svg"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="http://localhost:1313/posts/2022-04-01-e-contract-frontend-architecture/" /><link rel="prev" href="http://localhost:1313/posts/2022-02-10-fintech-form-design/" /><link rel="next" href="http://localhost:1313/posts/2022-05-26-encryption-in-frontend/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="/lib/fontawesome-free/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" href="/lib/animate/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "前端复杂流程页面的架构拆分与状态管理",
        "inLanguage": "zh-cn",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "http:\/\/localhost:1313\/posts\/2022-04-01-e-contract-frontend-architecture\/"
        },"genre": "posts","keywords": "前端架构, 状态管理, 复杂流程","wordcount":  86 ,
        "url": "http:\/\/localhost:1313\/posts\/2022-04-01-e-contract-frontend-architecture\/","datePublished": "2022-04-01T00:00:00+00:00","dateModified": "2022-04-01T00:00:00+00:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "wuwj"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Saiga">Saiga</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> Posts </a><a class="menu-item" href="/tags/"> Tags </a><a class="menu-item" href="/categories/"> Categories </a><a class="menu-item" href="/about/"> About </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="清空">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Saiga">Saiga</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="清空">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        取消
                    </a>
                </div><a class="menu-item" href="/posts/" title="">Posts</a><a class="menu-item" href="/tags/" title="">Tags</a><a class="menu-item" href="/categories/" title="">Categories</a><a class="menu-item" href="/about/" title="">About</a><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">目录</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">前端复杂流程页面的架构拆分与状态管理</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>wuwj</a></span>&nbsp;<span class="post-category">收录于 <a href="/categories/frontend/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>Frontend</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2022-04-01">2022-04-01</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;约 86 字&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;预计阅读 1 分钟&nbsp;</div>
        </div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>目录</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#背景">背景</a></li>
    <li><a href="#常见问题">常见问题</a>
      <ul>
        <li><a href="#1-所有逻辑堆在一个页面中">1. 所有逻辑堆在一个页面中</a></li>
        <li><a href="#2-状态流转不清晰">2. 状态流转不清晰</a></li>
        <li><a href="#3-可扩展性不足">3. 可扩展性不足</a></li>
      </ul>
    </li>
    <li><a href="#架构拆分思路">架构拆分思路</a>
      <ul>
        <li><a href="#1-流程驱动页面结构">1. 流程驱动页面结构</a></li>
        <li><a href="#2-页面只负责容器与布局">2. 页面只负责容器与布局</a></li>
        <li><a href="#3-集中管理流程状态">3. 集中管理流程状态</a></li>
        <li><a href="#4-步骤模块保持高内聚">4. 步骤模块保持高内聚</a></li>
      </ul>
    </li>
    <li><a href="#工程实现上的收益">工程实现上的收益</a></li>
    <li><a href="#总结">总结</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h2 id="背景">背景</h2>
<p>在业务系统中，常会遇到<strong>多步骤、强状态依赖的复杂流程页面</strong>，例如配置流程、审批流程、操作向导等。</p>
<p>这类页面往往具备以下特点：</p>
<ul>
<li>页面步骤多，前后状态强关联</li>
<li>交互复杂，回退与重试成本高</li>
<li>逻辑集中，容易演变为“巨型页面”</li>
</ul>
<p>如果缺乏合理的结构设计，后期维护成本会迅速上升。</p>
<hr>
<h2 id="常见问题">常见问题</h2>
<h3 id="1-所有逻辑堆在一个页面中">1. 所有逻辑堆在一个页面中</h3>
<p>典型表现包括：</p>
<ul>
<li>单个页面文件体积不断膨胀</li>
<li>流程控制、UI 渲染、数据请求高度耦合</li>
<li>新增或修改步骤容易影响整体流程</li>
</ul>
<hr>
<h3 id="2-状态流转不清晰">2. 状态流转不清晰</h3>
<p>在复杂流程中，常见问题有：</p>
<ul>
<li>当前所处步骤难以判断</li>
<li>页面刷新后状态丢失</li>
<li>异常中断后无法恢复流程</li>
</ul>
<hr>
<h3 id="3-可扩展性不足">3. 可扩展性不足</h3>
<p>当业务发生变化时：</p>
<ul>
<li>增减步骤需要大范围改动</li>
<li>流程分支难以抽象</li>
<li>复用能力较弱</li>
</ul>
<hr>
<h2 id="架构拆分思路">架构拆分思路</h2>
<h3 id="1-流程驱动页面结构">1. 流程驱动页面结构</h3>
<p>将流程本身作为核心抽象：</p>
<ul>
<li>明确流程节点定义</li>
<li>每个步骤对应独立模块</li>
<li>页面仅负责流程调度</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>flow/
</span></span><span style="display:flex;"><span>├── steps/
</span></span><span style="display:flex;"><span>│   ├── stepA.ts
</span></span><span style="display:flex;"><span>│   ├── stepB.ts
</span></span><span style="display:flex;"><span>│   └── stepC.ts
</span></span><span style="display:flex;"><span>├── flow.config.ts
</span></span><span style="display:flex;"><span>└── flow.controller.ts
</span></span></code></pre></div><hr>
<h3 id="2-页面只负责容器与布局">2. 页面只负责容器与布局</h3>
<p>页面层尽量保持轻量：</p>
<ul>
<li>负责步骤容器渲染</li>
<li>负责公共布局与导航</li>
<li>不直接承载复杂业务逻辑</li>
</ul>
<p>这样可以显著降低页面复杂度。</p>
<hr>
<h3 id="3-集中管理流程状态">3. 集中管理流程状态</h3>
<p>流程状态通常包括：</p>
<ul>
<li>当前步骤</li>
<li>已完成步骤</li>
<li>中间数据快照</li>
</ul>
<p>通过集中状态管理，可以实现：</p>
<ul>
<li>页面刷新后的状态恢复</li>
<li>异常回退与重试</li>
<li>多步骤间的数据共享</li>
</ul>
<hr>
<h3 id="4-步骤模块保持高内聚">4. 步骤模块保持高内聚</h3>
<p>每个步骤模块应当：</p>
<ul>
<li>独立处理自身校验逻辑</li>
<li>对外暴露统一接口</li>
<li>不依赖其他步骤的内部实现</li>
</ul>
<p>这种设计有助于步骤的独立演进。</p>
<hr>
<h2 id="工程实现上的收益">工程实现上的收益</h2>
<p>采用上述结构后，通常能带来以下变化：</p>
<ul>
<li>流程新增或调整成本明显降低</li>
<li>页面结构更清晰，易于维护</li>
<li>相似流程可快速复用</li>
</ul>
<p>同时，也为后续引入更复杂的流程引擎或配置化方案提供了空间。</p>
<hr>
<h2 id="总结">总结</h2>
<p>复杂流程页面的难点不在于 UI 本身，而在于<strong>流程建模与状态管理</strong>。</p>
<p>通过将流程、页面与步骤模块进行合理拆分，可以在控制复杂度的同时，提升系统的可维护性与扩展能力。</p>
<p>这类架构思路同样适用于多种业务系统场景。</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>更新于 2022-04-01</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="分享到 Twitter" data-sharer="twitter" data-url="http://localhost:1313/posts/2022-04-01-e-contract-frontend-architecture/" data-title="前端复杂流程页面的架构拆分与状态管理" data-via="https://github.com/cs11b137" data-hashtags="前端架构,状态管理,复杂流程"><i class="fab fa-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="分享到 Facebook" data-sharer="facebook" data-url="http://localhost:1313/posts/2022-04-01-e-contract-frontend-architecture/" data-hashtag="前端架构"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="分享到 Hacker News" data-sharer="hackernews" data-url="http://localhost:1313/posts/2022-04-01-e-contract-frontend-architecture/" data-title="前端复杂流程页面的架构拆分与状态管理"><i class="fab fa-hacker-news fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="分享到 Line" data-sharer="line" data-url="http://localhost:1313/posts/2022-04-01-e-contract-frontend-architecture/" data-title="前端复杂流程页面的架构拆分与状态管理"><i data-svg-src="/lib/simple-icons/icons/line.min.svg" aria-hidden="true"></i></a><a href="javascript:void(0);" title="分享到 微博" data-sharer="weibo" data-url="http://localhost:1313/posts/2022-04-01-e-contract-frontend-architecture/" data-title="前端复杂流程页面的架构拆分与状态管理"><i class="fab fa-weibo fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84/">前端架构</a>,&nbsp;<a href="/tags/%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86/">状态管理</a>,&nbsp;<a href="/tags/%E5%A4%8D%E6%9D%82%E6%B5%81%E7%A8%8B/">复杂流程</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/posts/2022-02-10-fintech-form-design/" class="prev" rel="prev" title="复杂业务场景下的表单设计与交互实践"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>复杂业务场景下的表单设计与交互实践</a>
            <a href="/posts/2022-05-26-encryption-in-frontend/" class="next" rel="next" title="前端加解密实践：从「别明文传密码」开始">前端加解密实践：从「别明文传密码」开始<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">由 <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.152.2">Hugo</a> 强力驱动 | 主题 - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.3.0"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2019 - 2025</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">wuwj</a></span>&nbsp;|&nbsp;<span class="license">CC BY-NC 4.0</span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="回到顶部">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="查看评论">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.stemmer.support.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.zh.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":50},"comment":{},"search":{"highlightTag":"em","lunrLanguageCode":"zh","lunrSegmentitURL":"/lib/lunr/lunr.segmentit.js","maxResultLength":10,"noResultsFound":"没有找到结果","snippetLength":30}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
